# AI数据分析功能配置指南

## 🚀 功能概述

本应用已集成 DeepSeek V3 AI 模型，提供智能数据分析功能，包括：

- **基础数据统计**：完成率、连续打卡天数、目标表现分析
- **数据可视化**：一周完成模式图表、完成情况分布图
- **AI智能洞察**：基于数据的个性化分析和建议
- **预测分析**：成功率预测和趋势分析

## 🔧 配置步骤

### 1. 获取 DeepSeek API 密钥

1. 访问 [DeepSeek 官网](https://platform.deepseek.com/)
2. 注册账号并登录
3. 在控制台中创建 API 密钥
4. 复制您的 API 密钥

### 2. 配置环境变量

在项目根目录创建 `.env` 文件：

```bash
# DeepSeek API 配置
DEEPSEEK_API_KEY=your_deepseek_api_key_here
DEEPSEEK_API_URL=https://api.deepseek.com/v1/chat/completions

# 服务器配置
PORT=3001
```

**重要提示**：
- 将 `your_deepseek_api_key_here` 替换为您的实际 API 密钥
- 不要将 `.env` 文件提交到版本控制系统
- 确保 `.env` 文件在 `.gitignore` 中

### 3. 启动应用

```bash
# 安装依赖（如果还没有安装）
npm install

# 启动后端服务器
npm run server

# 启动前端应用（新终端窗口）
npm start
```

## 📊 功能说明

### 基础统计数据
- **总体完成率**：所有目标的平均完成百分比
- **连续打卡天数**：当前连续完成所有目标的天数
- **完成天数**：完全完成所有目标的总天数
- **预测成功率**：基于历史数据预测的成功概率

### 数据可视化
- **一周完成模式**：显示一周内每天的平均完成率
- **完成情况分布**：饼图显示已完成和未完成天数的比例

### AI智能洞察
AI 会分析您的数据并提供：
- **成功洞察**：表现优秀的方面
- **警告提醒**：需要关注的问题
- **改进建议**：具体的优化建议
- **鼓励信息**：个性化的激励消息

### 个性化建议
基于您的数据模式，AI 会提供：
- 目标调整建议
- 时间安排优化
- 习惯养成策略

## 🔄 降级机制

如果 DeepSeek API 不可用，系统会自动降级到基于规则的分析：
- 仍然提供基础统计数据
- 使用预设规则生成洞察和建议
- 确保功能的可用性

## 💡 使用技巧

1. **数据积累**：使用几天后，AI 分析会更加准确
2. **定期查看**：建议每周查看一次分析报告
3. **应用建议**：根据 AI 建议调整您的目标和策略
4. **持续优化**：随着数据增加，分析会越来越精准

## 🛠️ API 接口

### 获取 AI 分析
```
GET /api/users/:username/analysis
```

### 获取基础统计
```
GET /api/users/:username/stats
```

## 🔒 隐私说明

- 您的数据仅用于生成个性化分析
- API 调用不会存储您的个人信息
- 所有数据处理都在本地服务器完成

## 📞 技术支持

如果遇到问题：
1. 检查 API 密钥是否正确配置
2. 确认网络连接正常
3. 查看控制台错误信息
4. 系统会自动降级到基础分析功能

---

**注意**：DeepSeek API 可能会产生费用，请根据您的使用情况合理配置。 